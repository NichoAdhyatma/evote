import{W as T,r as o,j as r,F as _,a as e,g as j}from"./app-e098daaf.js";import{S as R}from"./SecondaryButton-61a63aae.js";import{P as d}from"./PrimaryButton-aaeffef1.js";import{b as m,D as H,c as p}from"./DialogForm-4a833803.js";import{r as P,i as z,a as B}from"./jsx-runtime_commonjs-proxy-bd99f6db.js";import{Q as I}from"./react-toastify.esm-28a0cf16.js";import{d as C,a as M}from"./Cancel-1f85342e.js";import{D as q}from"./IconButton-4249068b.js";import"./LoadingButton-b54cda89.js";import"./styled-1f888797.js";import"./InputLabel-fc7c0781.js";import"./ownerWindow-2d74b6d7.js";import"./isHostComponent-73d6e646.js";import"./Select-f94be9c8.js";import"./DialogTitle-c0bbf469.js";import"./createChainedFunction-0bab83cf.js";import"./Paper-dd1429e6.js";import"./Typography-ffd72970.js";import"./useControlled-f6176b5e.js";import"./createSvgIcon-2f7c2a03.js";import"./Close-7139df43.js";import"./Checkbox-85cef8c4.js";import"./PasswordInput-e3523e92.js";var u={},V=z;Object.defineProperty(u,"__esModule",{value:!0});var x=u.default=void 0,$=V(P()),E=B,F=(0,$.default)((0,E.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");x=u.default=F;function ue({users:b}){const{data:G,setData:f,post:l,processing:i}=T({selectId:null,key:null}),[h,S]=o.useState(!1),[g,w]=o.useState(!1),[k,y]=o.useState(!1),[n,N]=o.useState(null),D=b,s=t=>{f("key",t.target.value)},O=[{field:"id",headerName:"ID",width:50},{field:"name",headerName:"Nama",flex:1},{field:"email",headerName:"Email",flex:1},{field:"token",headerName:"Token",flex:1,renderCell:t=>r("div",{className:"flex items-center gap-4",children:[e(q,{"aria-label":"copy-token",onClick:()=>{navigator.clipboard.writeText(t.value),I.info("Berhasil terkopi",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},children:e(x,{})}),r("p",{children:[" ",t.value]})]})},{field:"pengiriman",headerName:"Pengiriman",width:110,renderCell:t=>t.value==1?e(p,{title:"Terkirim",children:e(C,{color:"success"})}):e(p,{title:"Belum terkirim",children:e(M,{color:"error"})})},{field:"pemilihan",headerName:"Pengiriman",width:110,renderCell:t=>t.value!=null?e(p,{title:"Sudah memilih",children:e(C,{color:"success"})}):null}],a=t=>{switch(N(t),t){case 1:S(!h);break;case 2:w(!g);break;case 3:y(!k);break}},c=(t,v)=>{if(v&&v=="backdropClick")return a(n);switch(n){case 1:t&&l(route("token"));break;case 2:t&&l(route("delete-token"));break;case 3:t&&l(route("send-mail"));break}a(n)};return r(_,{children:[r("div",{className:"w-full",children:[e("h1",{className:"text-2xl font-semibold text-center",children:"Tabel Utama"}),r("div",{className:"flex justify-center my-4 gap-4",children:[e(d,{onClick:()=>a(3),color:"success",loading:i,children:"Kirim Token"}),e(d,{onClick:()=>a(1),loading:i,children:"Generate Token"}),e(d,{onClick:()=>a(2),color:"error",loading:i,children:"Hapus Token"}),e(R,{loading:i,onClick:()=>j.reload(),children:"Refresh Data"})]}),e(m,{open:h,handleClose:c,setKey:s}),e(m,{open:g,handleClose:c,setKey:s}),e(m,{open:k,handleClose:c,setKey:s})]}),e("div",{className:"flex justify-center w-full",children:e(H,{rows:D,onRowSelectionModelChange:t=>{f("selectId",t)},columns:O,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10,25,50,100],checkboxSelection:!0,disableRowSelectionOnClick:!0,autoHeight:!0})})]})}export{ue as default};
