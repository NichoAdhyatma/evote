import{r as o,W as w,j as i,F as y,a,g as m}from"./app-13a6582a.js";import{P as t}from"./PrimaryButton-375294b5.js";import{D,b as I,c as h}from"./DialogForm-ca31fb6a.js";import{d as O,a as j}from"./Cancel-ebb27b56.js";import{A as R}from"./AlertDialog-abe5ee40.js";import"./LoadingButton-fd284858.js";import"./styled-e01a6806.js";import"./InputLabel-7365365f.js";import"./ownerWindow-af8b9d5b.js";import"./isHostComponent-73d6e646.js";import"./Select-5c432cfb.js";import"./DialogTitle-b80527d4.js";import"./createChainedFunction-0bab83cf.js";import"./Paper-400f5c22.js";import"./Typography-76494516.js";import"./useControlled-c0fa24ee.js";import"./createSvgIcon-5f0d2a0f.js";import"./Close-d81d1b42.js";import"./IconButton-d4900d85.js";import"./Checkbox-5c1307bd.js";import"./PasswordInput-e5d5e4a9.js";import"./SecondaryButton-fdfdd636.js";import"./jsx-runtime_commonjs-proxy-3dd1840c.js";function ae({users:f,suara:n}){const[u,l]=o.useState(!1),[p,s]=o.useState(!1),[g,k]=o.useState(""),{data:T,setData:d,post:x}=w({key:null,userId:null}),S=e=>{d("key",e.target.value)},b=e=>{d("userId",e),l(!0)},v=(e,r)=>{if(r&&r=="backdropClick")return l(!1);e&&x("banned"),l(!1)},c=(e,r)=>{s(!1)},N=e=>{k(`/storage/${e}`),s(!0)},C=[{field:"id",headerName:"ID",width:50},{field:"image",headerName:"Image",width:100,renderCell:e=>a("button",{onClick:()=>N(e.value),children:a("img",{src:`/storage/${e.value}`,width:50,height:50,alt:"foto-verifikasi",className:"rounded-lg"})})},{field:"name",headerName:"Nama",flex:1},{field:"email",headerName:"Email",flex:1},{field:"pemilihan",headerName:"Pemilihan",width:110,renderCell:e=>e.value==1?a(h,{title:"Suara sah",children:a(O,{color:"success"})}):a(h,{title:"Tidak sah",children:a(j,{color:"error"})})},{field:"action",headerName:"Aksi",flex:1,renderCell:e=>a(t,{color:e.row.pemilihan==1?"warning":"success",onClick:()=>b(e.id),children:e.row.pemilihan==1?"Tidak Sah":"Sah"}),disableClickEventBubbling:!0,sortable:!1,filterable:!1}];return i(y,{children:[a("div",{className:"w-full",children:a("h1",{className:"text-2xl font-semibold text-center",children:"Rekap Suara"})}),i("div",{className:"my-4 flex justify-end w-full gap-4",children:[i("div",{className:"flex items-center gap-4 mx-4",children:[i("div",{className:"text-green-600 font-bold",children:["Sah : ",n.sah]}),i("div",{className:"text-red-600 font-bold",children:["Tidak Sah : ",n.tidakSah]})]}),a(t,{onClick:()=>m.visit("/grafik-suara"),color:"info",children:"Grafik Suara"}),a(t,{onClick:()=>m.reload(),color:"info",children:"Refresh"})]}),a("div",{className:"flex justify-center w-full",children:a(D,{rows:f,columns:C,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10,25,50,100],checkboxSelection:!1,disableRowSelectionOnClick:!0,autoHeight:!0})}),a(I,{open:u,handleClose:v,setKey:S}),a(R,{title:"Detail Gambar",content:a("img",{src:g,alt:"gambar-verifikasi"}),open:p,handleClose:c,dialogAction:a(t,{onClick:c,autoFocus:!0,children:"Tutup"})})]})}export{ae as default};
