import{r as o,W as $,j as t,F as O,a,g as f}from"./app-137eb9d1.js";import{P as r}from"./PrimaryButton-5ccb9114.js";import{D as z,b as M,c as h}from"./DialogForm-3e3cddc0.js";import{r as p,i as v,a as g}from"./jsx-runtime_commonjs-proxy-ec3f7063.js";import{A as q}from"./AlertDialog-a4fea16b.js";import"./LoadingButton-e1ecdc19.js";import"./styled-246d18b4.js";import"./InputLabel-27aaedda.js";import"./ownerWindow-01f65a04.js";import"./isHostComponent-73d6e646.js";import"./Select-40895f87.js";import"./DialogTitle-56bf8315.js";import"./createChainedFunction-0bab83cf.js";import"./Paper-0248fdc8.js";import"./Typography-3f55d31f.js";import"./useControlled-4795f8d6.js";import"./createSvgIcon-82247112.js";import"./Close-bc5e2f3c.js";import"./IconButton-b672f0ad.js";import"./Checkbox-5da2df6b.js";import"./PasswordInput-f3e67e48.js";import"./SecondaryButton-0d6fdc43.js";var n={},P=v;Object.defineProperty(n,"__esModule",{value:!0});var k=n.default=void 0,T=P(p()),A=g,E=(0,T.default)((0,A.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29 5.7 12.7a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"}),"CheckCircleRounded");k=n.default=E;var s={},F=v;Object.defineProperty(s,"__esModule",{value:!0});var C=s.default=void 0,G=F(p()),B=g,L=(0,G.default)((0,B.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");C=s.default=L;function fe({users:x,suara:d}){const[S,i]=o.useState(!1),[b,c]=o.useState(!1),[N,_]=o.useState(""),{data:H,setData:u,post:w}=$({key:null,userId:null}),R=e=>{u("key",e.target.value)},j=e=>{u("userId",e),i(!0)},D=(e,l)=>{if(l&&l=="backdropClick")return i(!1);e&&w("banned"),i(!1)},m=(e,l)=>{c(!1)},y=e=>{_(`/storage/${e}`),c(!0)},I=[{field:"id",headerName:"ID",width:50},{field:"image",headerName:"Image",width:100,renderCell:e=>a("button",{onClick:()=>y(e.value),children:a("img",{src:`/storage/${e.value}`,width:50,height:50,alt:"foto-verifikasi",className:"rounded-lg"})})},{field:"name",headerName:"Nama",flex:1},{field:"email",headerName:"Email",flex:1},{field:"pemilihan",headerName:"Pemilihan",width:110,renderCell:e=>e.value==1?a(h,{title:"Suara sah",children:a(k,{color:"success"})}):a(h,{title:"Tidak sah",children:a(C,{color:"error"})})},{field:"action",headerName:"Aksi",flex:1,renderCell:e=>a(r,{color:e.row.pemilihan==1?"warning":"success",onClick:()=>j(e.id),children:e.row.pemilihan==1?"Tidak Sah":"Sah"}),disableClickEventBubbling:!0,sortable:!1,filterable:!1}];return t(O,{children:[a("div",{className:"w-full",children:a("h1",{className:"text-2xl font-semibold text-center",children:"Rekap Suara"})}),t("div",{className:"my-4 flex justify-end w-full gap-4",children:[t("div",{className:"flex items-center gap-4 mx-4",children:[t("div",{className:"text-green-600 font-bold",children:["Sah : ",d.sah]}),t("div",{className:"text-red-600 font-bold",children:["Tidak Sah : ",d.tidakSah]})]}),a(r,{onClick:()=>f.visit("/grafik-suara"),color:"info",children:"Grafik Suara"}),a(r,{onClick:()=>f.reload(),color:"info",children:"Refresh"})]}),a("div",{className:"flex justify-center w-full",children:a(z,{rows:x,columns:I,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10,25,50,100],checkboxSelection:!1,disableRowSelectionOnClick:!0,autoHeight:!0})}),a(M,{open:S,handleClose:D,setKey:R}),a(q,{title:"Detail Gambar",content:a("img",{src:N,alt:"gambar-verifikasi"}),open:b,handleClose:m,dialogAction:a(r,{onClick:m,autoFocus:!0,children:"Tutup"})})]})}export{fe as default};
